import{bp as Oe,bq as Be,S as le,d as j,P as k,a as S,av as Ie,K as Re,w as ee,q as Q,ag as pe,H as se,I as he,b as v,br as Ee,aw as Ae,m as Le,a8 as je,_ as T,c as Me,i as h,n as ke,p as we,v as Ne,a9 as xe,V as ne,J as De,e as Se,Y as Fe,bs as We,bt as $e,x as Ve,u as ze,j as ce,$ as Ue,aB as ue,bi as Ke,aL as fe,aO as He,F as Ye}from"./index.cf68340f.js";import{K as de}from"./KeyCode.0ed1902f.js";import{p as Xe}from"./pickAttrs.0121d3dc.js";import{g as Te}from"./styles.scss_vue_type_style_index_0_src_5f1e3d06_scoped_true_lang.6f5171d3.js";import{c as qe}from"./styleChecker.26744c49.js";function L(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.element,t=o===void 0?document.body:o,n={},a=Object.keys(s);return a.forEach(function(d){n[d]=t.style[d]}),a.forEach(function(d){t.style[d]=s[d]}),n}function Ge(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var q={},ve=function(s){if(!(!Ge()&&!s)){var e="ant-scrolling-effect",o=new RegExp("".concat(e),"g"),t=document.body.className;if(s){if(!o.test(t))return;L(q),q={},document.body.className=t.replace(o,"").trim();return}var n=Te();if(n&&(q=L({position:"relative",width:"calc(100% - ".concat(n,"px)")}),!o.test(t))){var a="".concat(t," ").concat(e);document.body.className=a.trim()}}},O=[],Pe="ant-scrolling-effect",G=new RegExp("".concat(Pe),"g"),Je=0,J=new Map,Qe=Oe(function s(e){var o=this;Be(this,s),this.getContainer=function(){var t;return(t=o.options)===null||t===void 0?void 0:t.container},this.reLock=function(t){var n=O.find(function(a){var d=a.target;return d===o.lockTarget});n&&o.unLock(),o.options=t,n&&(n.options=t,o.lock())},this.lock=function(){var t;if(!O.some(function(c){var u=c.target;return u===o.lockTarget})){if(O.some(function(c){var u=c.options,y;return(u==null?void 0:u.container)===((y=o.options)===null||y===void 0?void 0:y.container)})){O=[].concat(le(O),[{target:o.lockTarget,options:o.options}]);return}var n=0,a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(n=Te());var d=a.className;if(O.filter(function(c){var u=c.options,y;return(u==null?void 0:u.container)===((y=o.options)===null||y===void 0?void 0:y.container)}).length===0&&J.set(a,L({width:n!==0?"calc(100% - ".concat(n,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!G.test(d)){var m="".concat(d," ").concat(Pe);a.className=m.trim()}O=[].concat(le(O),[{target:o.lockTarget,options:o.options}])}},this.unLock=function(){var t,n=O.find(function(m){var c=m.target;return c===o.lockTarget});if(O=O.filter(function(m){var c=m.target;return c!==o.lockTarget}),!(!n||O.some(function(m){var c=m.options,u;return(c==null?void 0:c.container)===((u=n.options)===null||u===void 0?void 0:u.container)}))){var a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body,d=a.className;!G.test(d)||(L(J.get(a),{element:a}),J.delete(a),a.className=a.className.replace(G,"").trim())}},this.lockTarget=Je++,this.options=e}),B=0,W=Ae(),K={},A=function(e){if(!W)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Le(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body},Ze=j({name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:k.any,visible:{type:Boolean,default:void 0}},setup:function(e,o){var t=o.slots,n=S(),a=S(),d=S(),m=new Qe({container:A(e.getContainer)}),c=function(){var f,b;(b=(f=n.value)===null||f===void 0?void 0:f.parentNode)===null||b===void 0||b.removeChild(n.value)},u=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(f||n.value&&!n.value.parentNode){var b=A(e.getContainer);return b?(b.appendChild(n.value),!0):!1}return!0},y=function(){return W?(n.value||(n.value=document.createElement("div"),u(!0)),N(),n.value):null},N=function(){var f=e.wrapperClassName;n.value&&f&&f!==n.value.className&&(n.value.className=f)};Ie(function(){N(),u()});var w=function(){B===1&&!Object.keys(K).length?(ve(),K=L({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):B||(L(K),K={},ve(!0))},C=je();return Re(function(){var r=!1;ee([function(){return e.visible},function(){return e.getContainer}],function(f,b){var g=Q(f,2),i=g[0],l=g[1],p=Q(b,2),x=p[0],P=p[1];if(W&&A(e.getContainer)===document.body&&(i&&!x?B+=1:r&&(B-=1)),r){var _=typeof l=="function"&&typeof P=="function";(_?l.toString()!==P.toString():l!==P)&&c(),i&&i!==x&&W&&A(l)!==m.getContainer()&&m.reLock({container:A(l)})}r=!0},{immediate:!0,flush:"post"}),pe(function(){u()||(d.value=se(function(){C.update()}))})}),he(function(){var r=e.visible,f=e.getContainer;W&&A(f)===document.body&&(B=r&&B?B-1:B),c(),se.cancel(d.value)}),function(){var r=e.forceRender,f=e.visible,b=null,g={getOpenCount:function(){return B},getContainer:y,switchScrollingEffect:w,scrollLocker:m};return(r||f||a.value)&&(b=v(Ee,{getContainer:y,ref:a},{default:function(){var l;return(l=t.default)===null||l===void 0?void 0:l.call(t,g)}})),b}}});function te(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:k.shape({x:Number,y:Number}).loose,title:k.any,footer:k.any,transitionName:String,maskTransitionName:String,animation:k.any,maskAnimation:k.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:k.any,maskProps:k.any,wrapProps:k.any,getContainer:k.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:k.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function me(s,e,o){var t=e;return!t&&o&&(t="".concat(s,"-").concat(o)),t}var ge=-1;function en(){return ge+=1,ge}function ye(s,e){var o=s["page".concat(e?"Y":"X","Offset")],t="scroll".concat(e?"Top":"Left");if(typeof o!="number"){var n=s.document;o=n.documentElement[t],typeof o!="number"&&(o=n.body[t])}return o}function nn(s){var e=s.getBoundingClientRect(),o={left:e.left,top:e.top},t=s.ownerDocument,n=t.defaultView||t.parentWindow;return o.left+=ye(n),o.top+=ye(n,!0),o}var Ce={width:0,height:0,overflow:"hidden",outline:"none"},tn=j({name:"Content",inheritAttrs:!1,props:T(T({},te()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,o){var t=o.expose,n=o.slots,a=o.attrs,d=S(),m=S(),c=S();t({focus:function(){var r;(r=d.value)===null||r===void 0||r.focus()},changeActive:function(r){var f=document,b=f.activeElement;r&&b===m.value?d.value.focus():!r&&b===d.value&&m.value.focus()}});var u=S(),y=Me(function(){var C=e.width,r=e.height,f={};return C!==void 0&&(f.width=typeof C=="number"?"".concat(C,"px"):C),r!==void 0&&(f.height=typeof r=="number"?"".concat(r,"px"):r),u.value&&(f.transformOrigin=u.value),f}),N=function(){pe(function(){if(c.value){var r=nn(c.value);u.value=e.mousePosition?"".concat(e.mousePosition.x-r.left,"px ").concat(e.mousePosition.y-r.top,"px"):""}})},w=function(r){e.onVisibleChanged(r)};return function(){var C,r,f,b,g=e.prefixCls,i=e.footer,l=i===void 0?(C=n.footer)===null||C===void 0?void 0:C.call(n):i,p=e.title,x=p===void 0?(r=n.title)===null||r===void 0?void 0:r.call(n):p,P=e.ariaId,_=e.closable,I=e.closeIcon,R=I===void 0?(f=n.closeIcon)===null||f===void 0?void 0:f.call(n):I,E=e.onClose,M=e.bodyStyle,D=e.bodyProps,$=e.onMousedown,H=e.onMouseup,V=e.visible,z=e.modalRender,F=z===void 0?n.modalRender:z,Y=e.destroyOnClose,X=e.motionName,U;l&&(U=v("div",{class:"".concat(g,"-footer")},[l]));var oe;x&&(oe=v("div",{class:"".concat(g,"-header")},[v("div",{class:"".concat(g,"-title"),id:P},[x])]));var ae;_&&(ae=v("button",{type:"button",onClick:E,"aria-label":"Close",class:"".concat(g,"-close")},[R||v("span",{class:"".concat(g,"-close-x")},null)]));var ie=v("div",{class:"".concat(g,"-content")},[ae,oe,v("div",h({class:"".concat(g,"-body"),style:M},D),[(b=n.default)===null||b===void 0?void 0:b.call(n)]),U]),_e=ke(X);return v(xe,h(h({},_e),{},{onBeforeEnter:N,onAfterEnter:function(){return w(!0)},onAfterLeave:function(){return w(!1)}}),{default:function(){return[V||!Y?we(v("div",h(h({},a),{},{ref:c,key:"dialog-element",role:"document",style:[y.value,a.style],class:[g,a.class],onMousedown:$,onMouseup:H}),[v("div",{tabindex:0,ref:d,style:Ce,"aria-hidden":"true"},null),F?F({originVNode:ie}):ie,v("div",{tabindex:0,ref:m,style:Ce,"aria-hidden":"true"},null)]),[[Ne,V]]):null]}})}}});function on(s){if(s==null)throw new TypeError("Cannot destructure undefined")}var an=j({name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,o){return on(o),function(){var t=e.prefixCls,n=e.visible,a=e.maskProps,d=e.motionName,m=ke(d);return v(xe,m,{default:function(){return[we(v("div",h({class:"".concat(t,"-mask")},a),null),[[Ne,n]])]}})}}}),be=j({name:"Dialog",inheritAttrs:!1,props:ne(T(T({},te()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,o){var t=o.attrs,n=o.slots,a=S(),d=S(),m=S(),c=S(e.visible),u=S("vcDialogTitle".concat(en())),y=function(l){var p,x;if(l)We(d.value,document.activeElement)||(a.value=document.activeElement,(p=m.value)===null||p===void 0||p.focus());else{var P=c.value;if(c.value=!1,e.mask&&a.value&&e.focusTriggerAfterClose){try{a.value.focus({preventScroll:!0})}catch{}a.value=null}P&&((x=e.afterClose)===null||x===void 0||x.call(e))}},N=function(l){var p;(p=e.onClose)===null||p===void 0||p.call(e,l)},w=S(!1),C=S(),r=function(){clearTimeout(C.value),w.value=!0},f=function(){C.value=setTimeout(function(){w.value=!1})},b=function(l){if(!e.maskClosable)return null;w.value?w.value=!1:d.value===l.target&&N(l)},g=function(l){if(e.keyboard&&l.keyCode===de.ESC){l.stopPropagation(),N(l);return}e.visible&&l.keyCode===de.TAB&&m.value.changeActive(!l.shiftKey)};return ee(function(){return e.visible},function(){e.visible&&(c.value=!0)},{flush:"post"}),he(function(){var i;clearTimeout(C.value),(i=e.scrollLocker)===null||i===void 0||i.unLock()}),De(function(){var i,l;(i=e.scrollLocker)===null||i===void 0||i.unLock(),c.value&&((l=e.scrollLocker)===null||l===void 0||l.lock())}),function(){var i=e.prefixCls,l=e.mask,p=e.visible,x=e.maskTransitionName,P=e.maskAnimation,_=e.zIndex,I=e.wrapClassName,R=e.rootClassName,E=e.wrapStyle,M=e.closable,D=e.maskProps,$=e.maskStyle,H=e.transitionName,V=e.animation,z=e.wrapProps,F=e.title,Y=F===void 0?n.title:F,X=t.style,U=t.class;return v("div",h({class:["".concat(i,"-root"),R]},Xe(e,{data:!0})),[v(an,{prefixCls:i,visible:l&&p,motionName:me(i,x,P),style:T({zIndex:_},$),maskProps:D},null),v("div",h({tabIndex:-1,onKeydown:g,class:Se("".concat(i,"-wrap"),I),ref:d,onClick:b,role:"dialog","aria-labelledby":Y?u.value:null,style:T(T({zIndex:_},E),{display:c.value?null:"none"})},z),[v(tn,h(h({},Fe(e,["scrollLocker"])),{},{style:X,class:U,onMousedown:r,onMouseup:f,ref:m,closable:M,ariaId:u.value,prefixCls:i,visible:p,onClose:N,onVisibleChanged:y,motionName:me(i,H,V)}),n)])])}}}),rn=te(),ln=j({name:"DialogWrap",inheritAttrs:!1,props:ne(rn,{visible:!1}),setup:function(e,o){var t=o.attrs,n=o.slots,a=S(e.visible);return $e({},{inTriggerContext:!1}),ee(function(){return e.visible},function(){e.visible&&(a.value=!0)},{flush:"post"}),function(){var d=e.visible,m=e.getContainer,c=e.forceRender,u=e.destroyOnClose,y=u===void 0?!1:u,N=e.afterClose,w=T(T(T({},e),t),{ref:"_component",key:"dialog"});return m===!1?v(be,h(h({},w),{},{getOpenCount:function(){return 2}}),n):!c&&y&&!a.value?null:v(Ze,{visible:d,forceRender:c,getContainer:m},{default:function(r){return w=T(T(T({},w),r),{afterClose:function(){N==null||N(),a.value=!1}}),v(be,w,n)}})}}}),sn=ln,cn=globalThis&&globalThis.__rest||function(s,e){var o={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(o[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(o[t[n]]=s[t[n]]);return o},Z=null,un=function(e){Z={x:e.pageX,y:e.pageY},setTimeout(function(){return Z=null},100)};qe()&&Ke(document.documentElement,"click",un,!0);var fn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:k.any,closable:{type:Boolean,default:void 0},closeIcon:k.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:k.any,okText:k.any,okType:String,cancelText:k.any,icon:k.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},Cn=[],bn=j({name:"AModal",inheritAttrs:!1,props:ne(fn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,o){var t=o.emit,n=o.slots,a=o.attrs,d=Ve("Modal"),m=Q(d,1),c=m[0],u=ze("modal",e),y=u.prefixCls,N=u.rootPrefixCls,w=u.direction,C=u.getPopupContainer,r=function(i){t("update:visible",!1),t("cancel",i),t("change",!1)},f=function(i){t("ok",i)},b=function(){var i,l,p=e.okText,x=p===void 0?(i=n.okText)===null||i===void 0?void 0:i.call(n):p,P=e.okType,_=e.cancelText,I=_===void 0?(l=n.cancelText)===null||l===void 0?void 0:l.call(n):_,R=e.confirmLoading;return v(Ye,null,[v(fe,h({onClick:r},e.cancelButtonProps),{default:function(){return[I||c.value.cancelText]}}),v(fe,h(h({},He(P)),{},{loading:R,onClick:f},e.okButtonProps),{default:function(){return[x||c.value.okText]}})])};return function(){var g,i;e.prefixCls;var l=e.visible,p=e.wrapClassName,x=e.centered,P=e.getContainer,_=e.closeIcon,I=_===void 0?(i=n.closeIcon)===null||i===void 0?void 0:i.call(n):_,R=e.focusTriggerAfterClose,E=R===void 0?!0:R,M=cn(e,["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),D=Se(p,(g={},ce(g,"".concat(y.value,"-centered"),!!x),ce(g,"".concat(y.value,"-wrap-rtl"),w.value==="rtl"),g));return v(sn,h(h(h({},M),a),{},{getContainer:P||C.value,prefixCls:y.value,wrapClassName:D,visible:l,mousePosition:Z,onClose:r,focusTriggerAfterClose:E,transitionName:ue(N.value,"zoom",e.transitionName),maskTransitionName:ue(N.value,"fade",e.maskTransitionName)}),T(T({},n),{footer:n.footer||b,closeIcon:function(){return v("span",{class:"".concat(y.value,"-close-x")},[I||v(Ue,{class:"".concat(y.value,"-close-icon")},null)])}}))}}});export{bn as M,Cn as d};
