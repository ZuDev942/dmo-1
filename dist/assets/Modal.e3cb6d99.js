import{bz as Oe,bA as Be,a3 as le,d as M,P as k,a as x,aC as Ie,Q as Re,w as ee,z as J,au as pe,M as se,N as he,b as v,bB as Ee,aD as Ae,m as Le,al as Me,_ as S,c as je,i as h,n as ke,p as we,v as Ne,am as Te,a5 as ne,O as De,e as xe,a8 as Fe,bC as We,bD as $e,C as ze,u as Ve,j as ue,aa as Ue,aI as ce,bE as Ke,br as He,aR as fe,aU as Xe,K as Ye}from"./index.2b19a114.js";import{K as de}from"./KeyCode.0ed1902f.js";import{p as qe}from"./pickAttrs.a5c55153.js";import{g as Se}from"./styles.scss_vue_type_style_index_0_src_5f1e3d06_scoped_true_lang.727060b7.js";function L(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.element,t=o===void 0?document.body:o,n={},a=Object.keys(s);return a.forEach(function(d){n[d]=t.style[d]}),a.forEach(function(d){t.style[d]=s[d]}),n}function Ge(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var q={},ve=function(s){if(!(!Ge()&&!s)){var e="ant-scrolling-effect",o=new RegExp("".concat(e),"g"),t=document.body.className;if(s){if(!o.test(t))return;L(q),q={},document.body.className=t.replace(o,"").trim();return}var n=Se();if(n&&(q=L({position:"relative",width:"calc(100% - ".concat(n,"px)")}),!o.test(t))){var a="".concat(t," ").concat(e);document.body.className=a.trim()}}},O=[],Pe="ant-scrolling-effect",G=new RegExp("".concat(Pe),"g"),Qe=0,Q=new Map,Je=Oe(function s(e){var o=this;Be(this,s),this.getContainer=function(){var t;return(t=o.options)===null||t===void 0?void 0:t.container},this.reLock=function(t){var n=O.find(function(a){var d=a.target;return d===o.lockTarget});n&&o.unLock(),o.options=t,n&&(n.options=t,o.lock())},this.lock=function(){var t;if(!O.some(function(u){var c=u.target;return c===o.lockTarget})){if(O.some(function(u){var c=u.options,y;return(c==null?void 0:c.container)===((y=o.options)===null||y===void 0?void 0:y.container)})){O=[].concat(le(O),[{target:o.lockTarget,options:o.options}]);return}var n=0,a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(n=Se());var d=a.className;if(O.filter(function(u){var c=u.options,y;return(c==null?void 0:c.container)===((y=o.options)===null||y===void 0?void 0:y.container)}).length===0&&Q.set(a,L({width:n!==0?"calc(100% - ".concat(n,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!G.test(d)){var m="".concat(d," ").concat(Pe);a.className=m.trim()}O=[].concat(le(O),[{target:o.lockTarget,options:o.options}])}},this.unLock=function(){var t,n=O.find(function(m){var u=m.target;return u===o.lockTarget});if(O=O.filter(function(m){var u=m.target;return u!==o.lockTarget}),!(!n||O.some(function(m){var u=m.options,c;return(u==null?void 0:u.container)===((c=n.options)===null||c===void 0?void 0:c.container)}))){var a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body,d=a.className;!G.test(d)||(L(Q.get(a),{element:a}),Q.delete(a),a.className=a.className.replace(G,"").trim())}},this.lockTarget=Qe++,this.options=e}),B=0,W=Ae(),K={},A=function(e){if(!W)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Le(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body},Ze=M({name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:k.any,visible:{type:Boolean,default:void 0}},setup:function(e,o){var t=o.slots,n=x(),a=x(),d=x(),m=new Je({container:A(e.getContainer)}),u=function(){var f,b;(b=(f=n.value)===null||f===void 0?void 0:f.parentNode)===null||b===void 0||b.removeChild(n.value)},c=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(f||n.value&&!n.value.parentNode){var b=A(e.getContainer);return b?(b.appendChild(n.value),!0):!1}return!0},y=function(){return W?(n.value||(n.value=document.createElement("div"),c(!0)),N(),n.value):null},N=function(){var f=e.wrapperClassName;n.value&&f&&f!==n.value.className&&(n.value.className=f)};Ie(function(){N(),c()});var w=function(){B===1&&!Object.keys(K).length?(ve(),K=L({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):B||(L(K),K={},ve(!0))},C=Me();return Re(function(){var r=!1;ee([function(){return e.visible},function(){return e.getContainer}],function(f,b){var g=J(f,2),i=g[0],l=g[1],p=J(b,2),T=p[0],P=p[1];if(W&&A(e.getContainer)===document.body&&(i&&!T?B+=1:r&&(B-=1)),r){var _=typeof l=="function"&&typeof P=="function";(_?l.toString()!==P.toString():l!==P)&&u(),i&&i!==T&&W&&A(l)!==m.getContainer()&&m.reLock({container:A(l)})}r=!0},{immediate:!0,flush:"post"}),pe(function(){c()||(d.value=se(function(){C.update()}))})}),he(function(){var r=e.visible,f=e.getContainer;W&&A(f)===document.body&&(B=r&&B?B-1:B),u(),se.cancel(d.value)}),function(){var r=e.forceRender,f=e.visible,b=null,g={getOpenCount:function(){return B},getContainer:y,switchScrollingEffect:w,scrollLocker:m};return(r||f||a.value)&&(b=v(Ee,{getContainer:y,ref:a},{default:function(){var l;return(l=t.default)===null||l===void 0?void 0:l.call(t,g)}})),b}}});function te(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:k.shape({x:Number,y:Number}).loose,title:k.any,footer:k.any,transitionName:String,maskTransitionName:String,animation:k.any,maskAnimation:k.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:k.any,maskProps:k.any,wrapProps:k.any,getContainer:k.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:k.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function me(s,e,o){var t=e;return!t&&o&&(t="".concat(s,"-").concat(o)),t}var ge=-1;function en(){return ge+=1,ge}function ye(s,e){var o=s["page".concat(e?"Y":"X","Offset")],t="scroll".concat(e?"Top":"Left");if(typeof o!="number"){var n=s.document;o=n.documentElement[t],typeof o!="number"&&(o=n.body[t])}return o}function nn(s){var e=s.getBoundingClientRect(),o={left:e.left,top:e.top},t=s.ownerDocument,n=t.defaultView||t.parentWindow;return o.left+=ye(n),o.top+=ye(n,!0),o}var Ce={width:0,height:0,overflow:"hidden",outline:"none"},tn=M({name:"Content",inheritAttrs:!1,props:S(S({},te()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,o){var t=o.expose,n=o.slots,a=o.attrs,d=x(),m=x(),u=x();t({focus:function(){var r;(r=d.value)===null||r===void 0||r.focus()},changeActive:function(r){var f=document,b=f.activeElement;r&&b===m.value?d.value.focus():!r&&b===d.value&&m.value.focus()}});var c=x(),y=je(function(){var C=e.width,r=e.height,f={};return C!==void 0&&(f.width=typeof C=="number"?"".concat(C,"px"):C),r!==void 0&&(f.height=typeof r=="number"?"".concat(r,"px"):r),c.value&&(f.transformOrigin=c.value),f}),N=function(){pe(function(){if(u.value){var r=nn(u.value);c.value=e.mousePosition?"".concat(e.mousePosition.x-r.left,"px ").concat(e.mousePosition.y-r.top,"px"):""}})},w=function(r){e.onVisibleChanged(r)};return function(){var C,r,f,b,g=e.prefixCls,i=e.footer,l=i===void 0?(C=n.footer)===null||C===void 0?void 0:C.call(n):i,p=e.title,T=p===void 0?(r=n.title)===null||r===void 0?void 0:r.call(n):p,P=e.ariaId,_=e.closable,I=e.closeIcon,R=I===void 0?(f=n.closeIcon)===null||f===void 0?void 0:f.call(n):I,E=e.onClose,j=e.bodyStyle,D=e.bodyProps,$=e.onMousedown,H=e.onMouseup,z=e.visible,V=e.modalRender,F=V===void 0?n.modalRender:V,X=e.destroyOnClose,Y=e.motionName,U;l&&(U=v("div",{class:"".concat(g,"-footer")},[l]));var oe;T&&(oe=v("div",{class:"".concat(g,"-header")},[v("div",{class:"".concat(g,"-title"),id:P},[T])]));var ae;_&&(ae=v("button",{type:"button",onClick:E,"aria-label":"Close",class:"".concat(g,"-close")},[R||v("span",{class:"".concat(g,"-close-x")},null)]));var ie=v("div",{class:"".concat(g,"-content")},[ae,oe,v("div",h({class:"".concat(g,"-body"),style:j},D),[(b=n.default)===null||b===void 0?void 0:b.call(n)]),U]),_e=ke(Y);return v(Te,h(h({},_e),{},{onBeforeEnter:N,onAfterEnter:function(){return w(!0)},onAfterLeave:function(){return w(!1)}}),{default:function(){return[z||!X?we(v("div",h(h({},a),{},{ref:u,key:"dialog-element",role:"document",style:[y.value,a.style],class:[g,a.class],onMousedown:$,onMouseup:H}),[v("div",{tabindex:0,ref:d,style:Ce,"aria-hidden":"true"},null),F?F({originVNode:ie}):ie,v("div",{tabindex:0,ref:m,style:Ce,"aria-hidden":"true"},null)]),[[Ne,z]]):null]}})}}});function on(s){if(s==null)throw new TypeError("Cannot destructure undefined")}var an=M({name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,o){return on(o),function(){var t=e.prefixCls,n=e.visible,a=e.maskProps,d=e.motionName,m=ke(d);return v(Te,m,{default:function(){return[we(v("div",h({class:"".concat(t,"-mask")},a),null),[[Ne,n]])]}})}}}),be=M({name:"Dialog",inheritAttrs:!1,props:ne(S(S({},te()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,o){var t=o.attrs,n=o.slots,a=x(),d=x(),m=x(),u=x(e.visible),c=x("vcDialogTitle".concat(en())),y=function(l){var p,T;if(l)We(d.value,document.activeElement)||(a.value=document.activeElement,(p=m.value)===null||p===void 0||p.focus());else{var P=u.value;if(u.value=!1,e.mask&&a.value&&e.focusTriggerAfterClose){try{a.value.focus({preventScroll:!0})}catch{}a.value=null}P&&((T=e.afterClose)===null||T===void 0||T.call(e))}},N=function(l){var p;(p=e.onClose)===null||p===void 0||p.call(e,l)},w=x(!1),C=x(),r=function(){clearTimeout(C.value),w.value=!0},f=function(){C.value=setTimeout(function(){w.value=!1})},b=function(l){if(!e.maskClosable)return null;w.value?w.value=!1:d.value===l.target&&N(l)},g=function(l){if(e.keyboard&&l.keyCode===de.ESC){l.stopPropagation(),N(l);return}e.visible&&l.keyCode===de.TAB&&m.value.changeActive(!l.shiftKey)};return ee(function(){return e.visible},function(){e.visible&&(u.value=!0)},{flush:"post"}),he(function(){var i;clearTimeout(C.value),(i=e.scrollLocker)===null||i===void 0||i.unLock()}),De(function(){var i,l;(i=e.scrollLocker)===null||i===void 0||i.unLock(),u.value&&((l=e.scrollLocker)===null||l===void 0||l.lock())}),function(){var i=e.prefixCls,l=e.mask,p=e.visible,T=e.maskTransitionName,P=e.maskAnimation,_=e.zIndex,I=e.wrapClassName,R=e.rootClassName,E=e.wrapStyle,j=e.closable,D=e.maskProps,$=e.maskStyle,H=e.transitionName,z=e.animation,V=e.wrapProps,F=e.title,X=F===void 0?n.title:F,Y=t.style,U=t.class;return v("div",h({class:["".concat(i,"-root"),R]},qe(e,{data:!0})),[v(an,{prefixCls:i,visible:l&&p,motionName:me(i,T,P),style:S({zIndex:_},$),maskProps:D},null),v("div",h({tabIndex:-1,onKeydown:g,class:xe("".concat(i,"-wrap"),I),ref:d,onClick:b,role:"dialog","aria-labelledby":X?c.value:null,style:S(S({zIndex:_},E),{display:u.value?null:"none"})},V),[v(tn,h(h({},Fe(e,["scrollLocker"])),{},{style:Y,class:U,onMousedown:r,onMouseup:f,ref:m,closable:j,ariaId:c.value,prefixCls:i,visible:p,onClose:N,onVisibleChanged:y,motionName:me(i,H,z)}),n)])])}}}),rn=te(),ln=M({name:"DialogWrap",inheritAttrs:!1,props:ne(rn,{visible:!1}),setup:function(e,o){var t=o.attrs,n=o.slots,a=x(e.visible);return $e({},{inTriggerContext:!1}),ee(function(){return e.visible},function(){e.visible&&(a.value=!0)},{flush:"post"}),function(){var d=e.visible,m=e.getContainer,u=e.forceRender,c=e.destroyOnClose,y=c===void 0?!1:c,N=e.afterClose,w=S(S(S({},e),t),{ref:"_component",key:"dialog"});return m===!1?v(be,h(h({},w),{},{getOpenCount:function(){return 2}}),n):!u&&y&&!a.value?null:v(Ze,{visible:d,forceRender:u,getContainer:m},{default:function(r){return w=S(S(S({},w),r),{afterClose:function(){N==null||N(),a.value=!1}}),v(be,w,n)}})}}}),sn=ln,un=globalThis&&globalThis.__rest||function(s,e){var o={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(o[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(s);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(s,t[n])&&(o[t[n]]=s[t[n]]);return o},Z=null,cn=function(e){Z={x:e.pageX,y:e.pageY},setTimeout(function(){return Z=null},100)};Ke()&&He(document.documentElement,"click",cn,!0);var fn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:k.any,closable:{type:Boolean,default:void 0},closeIcon:k.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:k.any,okText:k.any,okType:String,cancelText:k.any,icon:k.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},yn=[],Cn=M({name:"AModal",inheritAttrs:!1,props:ne(fn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,o){var t=o.emit,n=o.slots,a=o.attrs,d=ze("Modal"),m=J(d,1),u=m[0],c=Ve("modal",e),y=c.prefixCls,N=c.rootPrefixCls,w=c.direction,C=c.getPopupContainer,r=function(i){t("update:visible",!1),t("cancel",i),t("change",!1)},f=function(i){t("ok",i)},b=function(){var i,l,p=e.okText,T=p===void 0?(i=n.okText)===null||i===void 0?void 0:i.call(n):p,P=e.okType,_=e.cancelText,I=_===void 0?(l=n.cancelText)===null||l===void 0?void 0:l.call(n):_,R=e.confirmLoading;return v(Ye,null,[v(fe,h({onClick:r},e.cancelButtonProps),{default:function(){return[I||u.value.cancelText]}}),v(fe,h(h({},Xe(P)),{},{loading:R,onClick:f},e.okButtonProps),{default:function(){return[T||u.value.okText]}})])};return function(){var g,i;e.prefixCls;var l=e.visible,p=e.wrapClassName,T=e.centered,P=e.getContainer,_=e.closeIcon,I=_===void 0?(i=n.closeIcon)===null||i===void 0?void 0:i.call(n):_,R=e.focusTriggerAfterClose,E=R===void 0?!0:R,j=un(e,["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),D=xe(p,(g={},ue(g,"".concat(y.value,"-centered"),!!T),ue(g,"".concat(y.value,"-wrap-rtl"),w.value==="rtl"),g));return v(sn,h(h(h({},j),a),{},{getContainer:P||C.value,prefixCls:y.value,wrapClassName:D,visible:l,mousePosition:Z,onClose:r,focusTriggerAfterClose:E,transitionName:ce(N.value,"zoom",e.transitionName),maskTransitionName:ce(N.value,"fade",e.maskTransitionName)}),S(S({},n),{footer:n.footer||b,closeIcon:function(){return v("span",{class:"".concat(y.value,"-close-x")},[I||v(Ue,{class:"".concat(y.value,"-close-icon")},null)])}}))}}});export{Cn as M,yn as d};
